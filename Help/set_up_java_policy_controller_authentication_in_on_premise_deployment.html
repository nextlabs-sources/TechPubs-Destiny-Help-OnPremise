
<!DOCTYPE html
  PUBLIC "" "about:legacy-compat">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:whc="http://www.oxygenxml.com/webhelp/components" xml:lang="en" lang="en">
    <head><link rel="shortcut icon" href="favicon.ico"><!----></link><link rel="icon" href="favicon.ico"><!----></link><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta charset="UTF-8" /><meta name="copyright" content="(C) Copyright 2019" /><meta name="DC.rights.owner" content="(C) Copyright 2019" /><meta name="DC.Type" content="task" /><meta name="description" content="This section describes how to enable authentication for Java Policy Controller's REST API in on-premise deployment." /><meta name="DC.Relation" scheme="URI" content="installing_the_policy_adapter_sdk.html" /><meta name="DC.Relation" scheme="URI" content="configuring_attribute_plug_ins.html" /><meta name="DC.Format" content="XHTML" /><meta name="DC.Identifier" content="set_up_java_policy_controller_authentication_in_on_premise_deployment" />        
      <title>Set up Java Policy Controller Authentication in on-premise deployment</title><!--  Generated with Oxygen version 20.1-SNAPSHOT, build number 2018080803.  --><meta name="wh-path2root" content="" /><meta name="wh-toc-id" content="set_up_java_policy_controller_authentication_in_on_premise_deployment-d66e4923" /><link rel="stylesheet" type="text/css" href="./oxygen-webhelp/lib/bootstrap/css/bootstrap.min.css" /><link rel="stylesheet" href="./oxygen-webhelp/lib/bootstrap/css/bootstrap-theme.min.css" /><link rel="stylesheet" href="./oxygen-webhelp/lib/jquery-ui/jquery-ui.min.css" /><link rel="stylesheet" type="text/css" href="./oxygen-webhelp/app/topic-page.css?buildId=2018080803" /><script type="text/javascript" src="./oxygen-webhelp/lib/jquery/jquery-3.1.1.min.js"><!----></script><script data-main="./oxygen-webhelp/app/topic-page.js" src="./oxygen-webhelp/lib/requirejs/require.js"></script><link rel="stylesheet" type="text/css" href="oxygen-webhelp/template/blue.css?buildId=2018080803" /></head>

    <body id="set_up_java_policy_controller_authentication_in_on_premise_deployment" class="wh_topic_page frmBody">
        <a href="#wh_topic_body" class="sr-only sr-only-focusable">Jump to main content</a>
        <!-- EXM-36950 - Expand the args.hdr parameter here -->
        
        
        
        <header class="navbar navbar-default wh_header">
    <div class="container-fluid">
        <div class="wh_header_flex_container">
            <div class="wh_logo_and_publication_title_container">
                <div class="wh_logo_and_publication_title">
                    
                    <!--
                            This component will be generated when the next parameters are specified in the transformation scenario:
                            'webhelp.logo.image' and 'webhelp.logo.image.target.url'.
                            See: http://oxygenxml.com/doc/versions/17.1/ug-editor/#topics/dita_webhelp_output.html.
                    -->
                    <a href="index.html" class=" wh_logo hidden-xs "><img src="cc_logo.png" alt="  Control Center 8.7.2 Administrator's Guide  Revision 1  March 2019  " /></a>
                    <div class=" wh_publication_title "><a href="index.html"><span class="booktitle">  <span class="ph mainbooktitle">Control Center 8.7.2 Administrator's Guide</span>  <span class="ph booktitlealt">Revision 1</span>  <span class="ph booktitlealt">March 2019</span>  </span></a></div>
                    
                </div>
                
                <!-- The menu button for mobile devices is copied in the output only when the 'webhelp.show.top.menu' parameter is set to 'yes' -->
                <button type="button" data-target="#wh_top_menu_and_indexterms_link" id="wh_menu_mobile_button" data-toggle="collapse" class="navbar-toggle collapsed wh_toggle_button" aria-expanded="false" aria-label="Toggle menu">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>

            <div class="wh_top_menu_and_indexterms_link collapse navbar-collapse" id="wh_top_menu_and_indexterms_link">
                
                <nav class=" wh_top_menu "><ul>
   <li><span data-tocid="concept_cpl_f2h_f2b-d66e21" data-state="leaf" class=" topicref " data-id="concept_cpl_f2h_f2b"><span class="title"><a href="oxy_ex-1/reuse_topics/confidentiality_notice.html">Confidentiality notice</a></span></span></li>
   <li class="has-children"><span data-tocid="introduction-d66e35" data-state="not-ready" class=" topicref " data-id="introduction"><span class="title"><a href="introduction.html">Introduction</a></span></span></li>
   <li class="has-children"><span data-tocid="about_the_dashboard-d66e114" data-state="not-ready" class=" topicref " data-id="about_the_dashboard"><span class="title"><a href="oxy_ex-1/reuse_topics/about_the_dashboard.html">About the Dashboard</a></span></span></li>
   <li class="has-children"><span data-tocid="manage_access_to_the_console-d66e140" data-state="not-ready" class=" topicref " data-id="manage_access_to_the_console"><span class="title"><a href="manage_access_to_the_console.html">Manage access to the console</a></span></span></li>
   <li class="has-children"><span data-tocid="enrolling_users_hosts__and_groups-d66e375" data-state="not-ready" class=" topicref " data-id="enrolling_users_hosts__and_groups"><span class="title"><a href="enrolling_users_hosts__and_groups.html">Enrolling users, hosts, and groups</a></span></span></li>
   <li class="has-children"><span data-tocid="enrolling_other_entities-d66e1154" data-state="not-ready" class=" topicref " data-id="enrolling_other_entities"><span class="title"><a href="enrolling_other_entities.html">Enrolling other entities</a></span></span></li>
   <li class="has-children"><span data-tocid="defining_custom_properties-d66e1337" data-state="not-ready" class=" topicref " data-id="defining_custom_properties"><span class="title"><a href="defining_custom_properties.html">Defining custom properties</a></span></span></li>
   <li class="has-children"><span data-tocid="managing_policy_enforcers-d66e1448" data-state="not-ready" class=" topicref " data-id="managing_policy_enforcers"><span class="title"><a href="managing_policy_enforcers.html">Managing policy enforcers</a></span></span></li>
   <li class="has-children"><span data-tocid="policy_and_policy_model_overview-d66e2359" data-state="not-ready" class=" topicref " data-id="policy_and_policy_model_overview"><span class="title"><a href="policy_and_policy_model_overview.html">Policy and Policy Model overview</a></span></span></li>
   <li class="has-children"><span data-tocid="constructing_and_testing_policies-d66e2461" data-state="not-ready" class=" topicref " data-id="constructing_and_testing_policies"><span class="title"><a href="constructing_and_testing_policies.html">Constructing and testing policies</a></span></span></li>
   <li class="has-children"><span data-tocid="deploying_and_managing_objects-d66e2751" data-state="not-ready" class=" topicref " data-id="deploying_and_managing_objects"><span class="title"><a href="deploying_and_managing_objects.html">Deploying and managing objects</a></span></span></li>
   <li class="has-children"><span data-tocid="exporting_and_importing_policies-d66e2875" data-state="not-ready" class=" topicref " data-id="exporting_and_importing_policies"><span class="title"><a href="exporting_and_importing_policies.html">Exporting and Importing Policies</a></span></span></li>
   <li class="has-children"><span data-tocid="managing_reports-d66e2975" data-state="not-ready" class=" topicref " data-id="managing_reports"><span class="title"><a href="managing_reports.html">Managing Reports</a></span></span></li>
   <li class="has-children"><span data-tocid="overview_of_pep_development-d66e3738" data-state="not-ready" class=" topicref " data-id="overview_of_pep_development"><span class="title"><a href="overview_of_pep_development.html">Overview of PEP development</a></span></span></li>
   <li class="has-children"><span data-tocid="pep_client_sdk__openaz_api-d66e3838" data-state="not-ready" class=" topicref " data-id="pep_client_sdk__openaz_api"><span class="title"><a href="pep_client_sdk__openaz_api.html">PEP client SDK (OpenAz API)</a></span></span></li>
   <li class="has-children"><span data-tocid="appendix-d66e5331" data-state="not-ready" class=" topicref " data-id="appendix"><span class="title"><a href="appendix.html">Appendix</a></span></span></li>
</ul></nav>
                <div class=" wh_indexterms_link "><a href="indexTerms.html" title="Index" aria-label="Go to index terms page"><span>Index</span></a></div>
                
            </div>
        </div>
    </div>
</header>
        
        <div class=" wh_search_input "><form id="searchForm" method="get" role="search" action="search.html"><div><input type="search" placeholder="Search " class="wh_search_textfield" id="textToSearch" name="searchQuery" aria-label="Search query" /><button type="submit" class="wh_search_button" aria-label="Search"><span>Search</span></button></div><script><!--
                                    $(document).ready(function () {
                                        $('#searchForm').submit(function (e) {
                                            if ($('.wh_search_textfield').val().length < 1) {
                                                e.preventDefault();
                                            }
                                        });
                                    });
                                --></script></form></div>
        
        <div class="container-fluid">
            <div class="row">

                <nav class="wh_tools hidden-print">
                    <div data-tooltip-position="bottom" class=" wh_breadcrumb "><ol xmlns:html="http://www.w3.org/1999/xhtml" class="hidden-print"><li><span class="home"><a href="index.html"><span>Home</span></a></span></li>
   <li><span class="topicref" data-id="pep_client_sdk__openaz_api"><span class="title"><a href="pep_client_sdk__openaz_api.html">PEP client SDK (OpenAz API)</a><span class="wh-tooltip">
               
               <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section describes how to use the OpenAz API with external and embedded PDPs         (policy decision points).</p>
               </span></span></span></li>
   <li><span class="topicref" data-id="overview_of_plug_ins"><span class="title"><a href="overview_of_plug_ins.html">Overview of plug-ins</a><span class="wh-tooltip">
               
               <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Developers can extend the functionality of the Control Center and Policy Controller         through plug-ins, which are separately
                  installed pieces of software written in         Java.
                  
               </p>
               </span></span></span></li>
   <li><span class="topicref" data-id="installing_the_policy_adapter_sdk"><span class="title"><a href="installing_the_policy_adapter_sdk.html">Installing the Policy Adapter SDK</a><span class="wh-tooltip">
               
               <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section provides instructions for installing the Policy Adapter SDK.</p>
               </span></span></span></li>
   <li class="active"><span class="topicref" data-id="set_up_java_policy_controller_authentication_in_on_premise_deployment"><span class="title"><a href="set_up_java_policy_controller_authentication_in_on_premise_deployment.html">Set up Java Policy Controller Authentication in on-premise deployment</a><span class="wh-tooltip">
               
               <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section describes how to enable authentication for Java Policy Controller's REST         API in on-premise deployment.</p>
               </span></span></span></li>
</ol></div>

                    <div class="wh_right_tools hidden-sm hidden-xs">
                        <div class=" wh_navigation_links "><span id="topic_navigation_links" class="navheader">
  </span></div>
                        <button class="wh_hide_highlight" aria-label="Toggle search highlights" title="Toggle search highlights"></button>
                        <button class="webhelp_expand_collapse_sections" data-next-state="collapsed" aria-label="Collapse sections" title="Collapse sections"></button>
                        <div class=" wh_print_link print "><button onClick="window.print()" title="Print this page" aria-label="Print this page"></button></div>
                    </div>
                </nav>
            </div>

            <div class="wh_content_area">
                <div class="row">
                    
                        <nav role="navigation" id="wh_publication_toc" class="col-lg-3 col-md-3 col-sm-3 hidden-xs navbar hidden-print">
                            <div class=" wh_publication_toc " data-tooltip-position="right"><ul role="tree" aria-label="Table of Contents"><span class="expand-button-action-labels"><span id="button-expand-action" aria-label="Expand"></span><span id="button-collapse-action" aria-label="Collapse"></span><span id="button-pending-action" aria-label="Pending"></span></span><li role="treeitem" aria-expanded="true"><span data-tocid="pep_client_sdk__openaz_api-d66e3838" class="topicref" data-id="pep_client_sdk__openaz_api" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action pep_client_sdk__openaz_api-d66e3838-link" class="wh-expand-btn"></span><span class="title"><a href="pep_client_sdk__openaz_api.html" id="pep_client_sdk__openaz_api-d66e3838-link">PEP client SDK (OpenAz API)</a><span class="wh-tooltip">
               
               <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section describes how to use the OpenAz API with external and embedded PDPs         (policy decision points).</p>
               </span></span></span><ul role="group" class="nav nav-list"><span class="expand-button-action-labels"><span id="button-expand-action" aria-label="Expand"></span><span id="button-collapse-action" aria-label="Collapse"></span><span id="button-pending-action" aria-label="Pending"></span></span><li role="treeitem"><span data-tocid="about_the_openaz_pep_client_sdk-d66e3849" class="topicref" data-id="about_the_openaz_pep_client_sdk" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="about_the_openaz_pep_client_sdk.html" id="about_the_openaz_pep_client_sdk-d66e3849-link">About the OpenAz PEP client SDK</a><span class="wh-tooltip">
                     
                     <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">OpenAz is an open source initiative that provides a standards-based         interface.</p>
                     </span></span></span></li>
         <li role="treeitem"><span data-tocid="configuring_a_development_environment-d66e3860" class="topicref" data-id="configuring_a_development_environment" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="configuring_a_development_environment.html" id="configuring_a_development_environment-d66e3860-link">Configuring a development environment</a><span class="wh-tooltip">
                     
                     <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">To use this API, you must configure a development environment as described in the PEP         development process section.
                        
                        
                     </p>
                     </span></span></span></li>
         <li role="treeitem" aria-expanded="false"><span data-tocid="configuring_one_way_and_two_way_ssl_authentication_between_pdp_and_pep-d66e3871" class="topicref" data-id="configuring_one_way_and_two_way_ssl_authentication_between_pdp_and_pep" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action configuring_one_way_and_two_way_ssl_authentication_between_pdp_and_pep-d66e3871-link" class="wh-expand-btn"></span><span class="title"><a href="configuring_one_way_and_two_way_ssl_authentication_between_pdp_and_pep.html" id="configuring_one_way_and_two_way_ssl_authentication_between_pdp_and_pep-d66e3871-link">Configuring one-way and two-way SSL authentication between PDP and PEP</a><span class="wh-tooltip">
                     
                     <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">For the REST API, you can configure the communication between a PDP server and a PEP         client using one-way or two-way
                        SSL authentication.
                        
                     </p>
                     </span></span></span></li>
         <li role="treeitem" aria-expanded="false"><span data-tocid="using_the_java_client_library-d66e3908" class="topicref" data-id="using_the_java_client_library" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action using_the_java_client_library-d66e3908-link" class="wh-expand-btn"></span><span class="title"><a href="using_the_java_client_library.html" id="using_the_java_client_library-d66e3908-link">Using the Java client library</a><span class="wh-tooltip">
                     
                     <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section explains how to use NextLabs OpenAz PEP Java client with remote PDPs         (REST PDPs and CloudPDPs) and embedded
                        PDPs.
                        
                     </p>
                     </span></span></span></li>
         <li role="treeitem" aria-expanded="false"><span data-tocid="using_the_javascript_client_library-d66e4063" class="topicref" data-id="using_the_javascript_client_library" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action using_the_javascript_client_library-d66e4063-link" class="wh-expand-btn"></span><span class="title"><a href="using_the_javascript_client_library.html" id="using_the_javascript_client_library-d66e4063-link">Using the JavaScript client library</a><span class="wh-tooltip">
                     
                     <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc"></p>
                     </span></span></span></li>
         <li role="treeitem" aria-expanded="false"><span data-tocid="rest_api_for_external_pdps-d66e4126" class="topicref" data-id="rest_api_for_external_pdps" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action rest_api_for_external_pdps-d66e4126-link" class="wh-expand-btn"></span><span class="title"><a href="rest_api_for_external_pdps.html" id="rest_api_for_external_pdps-d66e4126-link">REST API for external PDPs</a><span class="wh-tooltip">
                     
                     <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section describes how to use the REST API to send policy evaluation requests to         external PDPs (Policy Decision
                        Points).
                        
                     </p>
                     </span></span></span></li>
         <li role="treeitem" aria-expanded="true"><span data-tocid="overview_of_plug_ins-d66e4389" class="topicref" data-id="overview_of_plug_ins" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action overview_of_plug_ins-d66e4389-link" class="wh-expand-btn"></span><span class="title"><a href="overview_of_plug_ins.html" id="overview_of_plug_ins-d66e4389-link">Overview of plug-ins</a><span class="wh-tooltip">
                     
                     <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Developers can extend the functionality of the Control Center and Policy Controller         through plug-ins, which are separately
                        installed pieces of software written in         Java.
                        
                     </p>
                     </span></span></span><ul role="group" class="nav nav-list"><span class="expand-button-action-labels"><span id="button-expand-action" aria-label="Expand"></span><span id="button-collapse-action" aria-label="Collapse"></span><span id="button-pending-action" aria-label="Pending"></span></span><li role="treeitem" aria-expanded="false"><span data-tocid="about_control_center_plug_ins-d66e4400" class="topicref" data-id="about_control_center_plug_ins" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_control_center_plug_ins-d66e4400-link" class="wh-expand-btn"></span><span class="title"><a href="about_control_center_plug_ins.html" id="about_control_center_plug_ins-d66e4400-link">About Control Center plug-ins</a><span class="wh-tooltip">
                           
                           <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Control Center plug-ins, or extensions, are typically used by the ICENet server         (DABS) component.</p>
                           </span></span></span></li>
               <li role="treeitem" aria-expanded="false"><span data-tocid="about_policy_controller_plug_ins-d66e4433" class="topicref" data-id="about_policy_controller_plug_ins" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action about_policy_controller_plug_ins-d66e4433-link" class="wh-expand-btn"></span><span class="title"><a href="about_policy_controller_plug_ins.html" id="about_policy_controller_plug_ins-d66e4433-link">About Policy Controller plug-ins</a><span class="wh-tooltip">
                           
                           <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">The Policy Controller is the component that communicates with the Control Center and         the Policy Enforcement Points
                              (PEPs).
                              
                           </p>
                           </span></span></span></li>
               <li role="treeitem" aria-expanded="false"><span data-tocid="using_attribute_provider_plug_ins-d66e4466" class="topicref" data-id="using_attribute_provider_plug_ins" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action using_attribute_provider_plug_ins-d66e4466-link" class="wh-expand-btn"></span><span class="title"><a href="using_attribute_provider_plug_ins.html" id="using_attribute_provider_plug_ins-d66e4466-link">Using attribute provider plug-ins</a><span class="wh-tooltip">
                           
                           <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section describes how to develop attribute provider plug-ins.</p>
                           </span></span></span></li>
               <li role="treeitem" aria-expanded="false"><span data-tocid="using_heartbeat_plug_ins-d66e4554" class="topicref" data-id="using_heartbeat_plug_ins" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action using_heartbeat_plug_ins-d66e4554-link" class="wh-expand-btn"></span><span class="title"><a href="using_heartbeat_plug_ins.html" id="using_heartbeat_plug_ins-d66e4554-link">Using heartbeat plug-ins</a><span class="wh-tooltip">
                           
                           <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section describes how to develop heartbeat plug-ins.</p>
                           </span></span></span></li>
               <li role="treeitem" aria-expanded="false"><span data-tocid="report_log_views-d66e4658" class="topicref" data-id="report_log_views" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action report_log_views-d66e4658-link" class="wh-expand-btn"></span><span class="title"><a href="report_log_views.html" id="report_log_views-d66e4658-link">Report log views</a><span class="wh-tooltip">
                           
                           <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Report developers can design custom reports against NextLabs policy activity data         that has been written to the Activity
                              Journal database.
                              
                           </p>
                           </span></span></span></li>
               <li role="treeitem" aria-expanded="false"><span data-tocid="using_the_sample_enforcer-d66e4768" class="topicref" data-id="using_the_sample_enforcer" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action using_the_sample_enforcer-d66e4768-link" class="wh-expand-btn"></span><span class="title"><a href="using_the_sample_enforcer.html" id="using_the_sample_enforcer-d66e4768-link">Using the sample enforcer</a><span class="wh-tooltip">
                           
                           <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section explains how to use the sample enforcer, which illustrates the basic         controls available in SDKs.</p>
                           </span></span></span></li>
               <li role="treeitem" aria-expanded="true"><span data-tocid="installing_the_policy_adapter_sdk-d66e4847" class="topicref" data-id="installing_the_policy_adapter_sdk" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action installing_the_policy_adapter_sdk-d66e4847-link" class="wh-expand-btn"></span><span class="title"><a href="installing_the_policy_adapter_sdk.html" id="installing_the_policy_adapter_sdk-d66e4847-link">Installing the Policy Adapter SDK</a><span class="wh-tooltip">
                           
                           <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section provides instructions for installing the Policy Adapter SDK.</p>
                           </span></span></span><ul role="group" class="nav nav-list"><span class="expand-button-action-labels"><span id="button-expand-action" aria-label="Expand"></span><span id="button-collapse-action" aria-label="Collapse"></span><span id="button-pending-action" aria-label="Pending"></span></span><li role="treeitem" aria-expanded="false"><span data-tocid="platform_requirements-d66e4858" class="topicref" data-id="platform_requirements" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action platform_requirements-d66e4858-link" class="wh-expand-btn"></span><span class="title"><a href="platform_requirements.html" id="platform_requirements-d66e4858-link">Platform requirements</a><span class="wh-tooltip">
                                 
                                 <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">To test the Policy Adapter SDK, you must have an instance of Control Center and a         Policy Controller installed. </p>
                                 </span></span></span></li>
                     <li role="treeitem" aria-expanded="false"><span data-tocid="setting_up_your_development_environment_for_the_c_sdk-d66e4880" class="topicref" data-id="setting_up_your_development_environment_for_the_c_sdk" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action setting_up_your_development_environment_for_the_c_sdk-d66e4880-link" class="wh-expand-btn"></span><span class="title"><a href="setting_up_your_development_environment_for_the_c_sdk.html" id="setting_up_your_development_environment_for_the_c_sdk-d66e4880-link">Setting up your development environment for the C SDK</a><span class="wh-tooltip">
                                 
                                 <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">To set up your environment for the C SDK, copy the SDK files to your development         environment.</p>
                                 </span></span></span></li>
                     <li role="treeitem" aria-expanded="false"><span data-tocid="installing_and_configuring_the_java_rmi_sdk-d66e4902" class="topicref" data-id="installing_and_configuring_the_java_rmi_sdk" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action installing_and_configuring_the_java_rmi_sdk-d66e4902-link" class="wh-expand-btn"></span><span class="title"><a href="installing_and_configuring_the_java_rmi_sdk.html" id="installing_and_configuring_the_java_rmi_sdk-d66e4902-link">Installing and configuring the Java RMI SDK</a><span class="wh-tooltip">
                                 
                                 <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section explains how to install and configure the Java RMI (Remote Method         Invocation) SDK.</p>
                                 </span></span></span></li>
                     <li role="treeitem" aria-expanded="true" class="active"><span data-tocid="set_up_java_policy_controller_authentication_in_on_premise_deployment-d66e4923" class="topicref" data-id="set_up_java_policy_controller_authentication_in_on_premise_deployment" data-state="expanded"><span role="button" tabindex="0" aria-labelledby="button-collapse-action set_up_java_policy_controller_authentication_in_on_premise_deployment-d66e4923-link" class="wh-expand-btn"></span><span class="title"><a href="set_up_java_policy_controller_authentication_in_on_premise_deployment.html" id="set_up_java_policy_controller_authentication_in_on_premise_deployment-d66e4923-link">Set up Java Policy Controller Authentication in on-premise deployment</a><span class="wh-tooltip">
                                 
                                 <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section describes how to enable authentication for Java Policy Controller's REST         API in on-premise deployment.</p>
                                 </span></span></span><ul role="group" class="nav nav-list"><span class="expand-button-action-labels"><span id="button-expand-action" aria-label="Expand"></span><span id="button-collapse-action" aria-label="Collapse"></span><span id="button-pending-action" aria-label="Pending"></span></span><li role="treeitem"><span data-tocid="configuring_attribute_plug_ins-d66e4934" class="topicref" data-id="configuring_attribute_plug_ins" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="configuring_attribute_plug_ins.html" id="configuring_attribute_plug_ins-d66e4934-link">Configuring attribute plug-ins</a><span class="wh-tooltip">
                                       
                                       <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">Attribute plug-ins can be configured for resource and subject attributes as needed. </p>
                                       </span></span></span></li>
                        </ul>
                     </li>
                     <li role="treeitem"><span data-tocid="after_you_install-d66e4945" class="topicref" data-id="after_you_install" data-state="leaf"><span role="button" class="wh-expand-btn"></span><span class="title"><a href="after_you_install.html" id="after_you_install-d66e4945-link">After you install</a><span class="wh-tooltip">
                                 
                                 <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">By default, the heartbeat rate of the desktop enforcer is set to 60 minutes, which is         appropriate for a live production
                                    environment. 
                                    
                                 </p>
                                 </span></span></span></li>
                     <li role="treeitem" aria-expanded="false"><span data-tocid="installing_the_pep-d66e4956" class="topicref" data-id="installing_the_pep" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action installing_the_pep-d66e4956-link" class="wh-expand-btn"></span><span class="title"><a href="installing_the_pep.html" id="installing_the_pep-d66e4956-link">Installing the PEP</a><span class="wh-tooltip">
                                 
                                 <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">After you have developed and tested a PEP (policy enforcement point), you can install         it together with the Policy
                                    Controller on enforcement point hosts according to your         enforcer’s design.
                                    
                                 </p>
                                 </span></span></span></li>
                  </ul>
               </li>
               <li role="treeitem" aria-expanded="false"><span data-tocid="c_and_c___api_reference-d66e4978" class="topicref" data-id="c_and_c___api_reference" data-state="not-ready"><span role="button" tabindex="0" aria-labelledby="button-expand-action c_and_c___api_reference-d66e4978-link" class="wh-expand-btn"></span><span class="title"><a href="c_and_c___api_reference.html" id="c_and_c___api_reference-d66e4978-link">C and C++ API reference</a><span class="wh-tooltip">
                           
                           <p xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:toc="http://www.oxygenxml.com/ns/webhelp/toc" class="shortdesc">This section provides a reference of API calls for C and C++.</p>
                           </span></span></span></li>
            </ul>
         </li>
      </ul>
   </li>
</ul></div>
                        </nav>
                    
                    
                    <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12" id="wh_topic_body">
                        <div class=" wh_topic_content body "><main role="main"><article role="article" aria-labelledby="ariaid-title1">
    <h1 class="title topictitle1" id="ariaid-title1">Set up Java Policy Controller Authentication in on-premise deployment</h1>
    
    <div class="body taskbody"><p class="shortdesc">This section describes how to enable authentication for Java Policy Controller's REST
        API in on-premise deployment.</p>
        <section class="section context" id="set_up_java_policy_controller_authentication_in_on_premise_deployment__context_nss_1cx_y2b">
            <p class="p">The setup is using Apache HTTP server and works under Linux environment. This
                documentation uses RHEL 7 as an example.</p>
            <ul class="ul" id="set_up_java_policy_controller_authentication_in_on_premise_deployment__ul_d35_1cx_y2b">
                <li class="li">Control Center instance: Control Center is required for the deployment, (only
                    8.0 version onwards are supported) in this document the Control Center server's
                    hostname will be referred as {CC_HOST}.</li>
                <li class="li">Hostname: The server where Java Policy Controller is installed should have a
                    resolvable hostname/FQDN, this document uses {JPC_HOST} to represent the
                    hostname value.</li>
                <li class="li">SSL Certificate: A valid HTTP SSL Certificate is required, you can purchase one
                    or generate a self-signed certificates. The certificate's subject CN should
                    contain the server's hostname/FQDN ({JPC_HOST}). To generate self-signed
                        certificates:<ol class="ol" id="set_up_java_policy_controller_authentication_in_on_premise_deployment__ol_cgq_5wn_1gb">
                        <li class="li">Use following command: (replace {JPC_HOST} with actual
                            value):<pre class="pre codeblock"><code>openssl req -x509 -nodes -days 3650 -newkey rsa:2048 \
-subj "/C=US/ST=CA/L=San Mateo/O=NextLabs/OU=CompliantEnterprise/CN=<var class="keyword varname">{JPC_HOST}</var>" \
-keyout /tmp/server.key -out /tmp/server.crt</code></pre></li>
                        <li class="li">Move the file <span class="ph filepath">server.key</span> and
                                <span class="ph filepath">server.crt</span> to a folder and set proper file
                            permission to the files. In this document, the location of the folder
                            containing the two files is referred as {SSL_PATH}. Beware of file
                            permissions of the certificates, they must be readable by the Apache
                            HTTP Server.</li>
                    </ol></li>
                <li class="li">RHEL7's yum repos: The deployment described in this document using RHEL 7
                    requires additional yum repos enabled including rhel-server-optional,
                    rhel-server-extras, rhel-server-rhscl and epel. Also, building a module
                    (mod_auth_cas) for Apache HTTP Server is required. Check the IT policy whether
                    those are permitted before trying the deployment. Enabling yum repo is out of
                    the scope of this documentation. Refer to RedHat documentation.</li>
                <li class="li">Install Java Policy Controller in Tomcat or JBoss EAP server. For instructions,
                    see NextLabs Control Center Installation and Upgrade Guide.</li>
            </ul>
        </section>
        <ol class="ol steps" id="set_up_java_policy_controller_authentication_in_on_premise_deployment__steps_nkr_rxn_1gb"><li class="li step stepexpand">
                <span class="ph cmd">Verify the REST API is running properly by access
                    http://{JPC_HOST}:58080/dpc/authorization/pdp. You should be able to see a web
                    page containing help content for the REST APIs.</span>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Install Apache HTTP Server and required Apache modules. Apache HTTP server
                    version 2.4 is required, and required Apache modules are:</span>
                <div class="itemgroup info">
                    <ul class="ul" id="set_up_java_policy_controller_authentication_in_on_premise_deployment__ul_oth_wxn_1gb">
                        <li class="li">ssl_module</li>
                        <li class="li">perl_module</li>
                        <li class="li">auth_cas_module</li>
                    </ul>
                    <p class="p">Apache HTTP Server 2.4 is in RHEL7's rhel-server-rhscl repo, for how to
                        enable “rhel-server-rhscl” repo and installation of the package, you can
                        refer to <a class="xref" href="https://www.softwarecollections.org/en/scls/rhscl/httpd24/" target="_blank">https://www.softwarecollections.org/en/scls/rhscl/httpd24/</a>​</p>
                    <p class="p">To install Apache HTTP Server 2.4, you can use following command: (enable
                        required yum repos first)</p>
                    <div class="p"><kbd class="ph userinput">sudo yum install httpd24</kbd><div class="note note note_note"><span class="note__title">Note:</span> The apache config files
                            are in: <span class="ph filepath">/opt/rh/httpd24/root/etc/httpd</span> and the
                            service name is httpd24-httpd</div></div>
                    <p class="p">This documentation uses {APACHE_CONFIG_ROOT} to represent the apache config
                        path (<span class="ph filepath">/opt/rh/httpd24/root/etc/httpd</span>).</p>
                </div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Install the ssl_module for Apache HTTP Server 2.4, you can use following
                    command: (enable required yum repos first)</span>
                <div class="itemgroup info"><kbd class="ph userinput">sudo yum install httpd24-mod_ssl</kbd></div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Install perl_module for Apache HTTP Server 2.4, you can use following command:
                    (enable required yum repos first)</span>
                <div class="itemgroup info"><kbd class="ph userinput">sudo yum install rh-perl520-mod_perl</kbd></div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Build and install the auth_cas_module for Apache HTTP Server 2.4 in RHEL
                    7:</span>
                <div class="itemgroup info">
                    <ol class="ol" type="a" id="set_up_java_policy_controller_authentication_in_on_premise_deployment__ol_n5t_cyn_1gb">
                        <li class="li">Install required packages to build the module.<p class="p"><kbd class="ph userinput">sudo yum
                                    install httpd24-httpd-devel gcc openssl-devel automake libtool
                                    libcurl-devel</kbd></p></li>
                        <li class="li">Download mod_auth_cas source.<p class="p">If your Control Center's Web SSL
                                certificates are valid (not self-signed), you can use official
                                mod_auth_cas 1.1 release available on the GitHub
                                website.</p><p class="p">Normally on-premise deployment's Control Center
                                server's web certificates are self-signed. Official 1.1 release
                                doesn't support self-signed HTTPS CAS server while official releases
                                of mod_auth_cas prior of 1.1 have bug working with Apache HTTP
                                Server 2.4. But klausdieterkrannich's fork fixed the bug and works
                                fine with Apache HTTP Server
                            2.4.</p><pre class="pre codeblock"><code>wget -P /tmp https://github.com/klausdieterkrannich/mod_auth_cas/archive/master.zip
cd /tmp
unzip master.zip
# under tmp there will be a folder called mod_auth_cas-master
cd mod_auth_cas-master</code></pre></li>
                    </ol>
                </div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Build and Install the module.</span>
                <div class="itemgroup info"><pre class="pre codeblock"><code># under /tmp/mod_auth_cas-master folder
 autoreconf -ivf
 scl enable httpd24 bash
 ./configure &amp;&amp; make &amp;&amp; sudo make install</code></pre><p class="p">The
                        following message appears: </p><samp class="ph systemoutput sysout">Libraries have been installed
                        in: /opt/rh/httpd24/root/usr/lib64/httpd/modules</samp></div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">In the <span class="ph filepath">/opt/rh/httpd24/root/usr/lib64/httpd/modules</span> folder
                    you will find the mod_auth_cas module file:
                    <span class="ph filepath">mod_auth_cas.so</span>.</span>
                <div class="itemgroup info">
                    <div class="note note note_note"><span class="note__title">Note:</span> This documentation uses {MOD_AUTH_CAS_SO} to represent the location of
                        mod_auth_cas module file
                        (/opt/rh/httpd24/root/usr/lib64/httpd/modules/mod_auth_cas.so).</div>
                </div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Configure Apache HTTP Server using the following commands:</span>
                <div class="itemgroup info">
                    <ol class="ol" type="a" id="set_up_java_policy_controller_authentication_in_on_premise_deployment__ol_y5c_5yn_1gb">
                        <li class="li">Remove unnecessary
                            files:<pre class="pre codeblock"><code># replace {APACHE_CONFIG_ROOT} with actual path
cd {APACHE_CONFIG_ROOT}
sudo rm -f ./conf.d/welcome.conf ./conf.d/userdir.conf ./conf.d/ssl.conf</code></pre></li>
                        <li class="li">Create CAS cookie
                            folder:<pre class="pre codeblock"><code>cd `{APACHE_CONFIG_ROOT}`
sudo mkdir cas &amp;&amp; sudo chmod 777 cas</code></pre></li>
                        <li class="li">Create Perl
                            scripts:<pre class="pre codeblock"><code># replace {APACHE_CONFIG_ROOT} with actual path
cd `{APACHE_CONFIG_ROOT}`
sudo mkdir -p perl/JPC &amp;&amp; sudo chmod -R 775 perl/JPC</code></pre></li>
                    </ol>
                </div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Create a file under {APACHE_CONFIG_ROOT}/perl named startup.pl with content:
                    (replace {APACHE_CONFIG_ROOT} with actual path):</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock"><code>use lib qw({APACHE_CONFIG_ROOT}/perl);
1;</code></pre>
                </div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Create a file under {APACHE_CONFIG_ROOT}/perl/JPC named Unauthorized.pm with
                    content:</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock"><code>package JPC::Unauthorized;
use strict;
use warnings;
use Apache2::RequestRec ();
use Apache2::RequestIO ();
use Apache2::Response ();
use APR::Table ();
use Apache2::Const -compile =&gt; qw(OK AUTH_REQUIRED);
sub handler {
 my $r = shift;
 my $response_text = '';
 if ($r-&gt;headers_in-&gt;{Accept} =~ /xml/) {
 $r-&gt;content_type('application/xml');
 $response_text = 'AccessDeniedAccess Denied';
 } else {
 $r-&gt;content_type('application/json');
 $response_text = '{"Error":{"Code":"AccessDenied","Message":"Access Denied"}}';
 }
 $r-&gt;custom_response(Apache2::Const::AUTH_REQUIRED, $response_text);
 return Apache2::Const::AUTH_REQUIRED;
}
1;</code></pre>
                </div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Create JPC conf file under {APACHE_CONFIG_ROOT}/conf.d named jpc.conf with
                    content: (replace {MOD_AUTH_CAS_SO}, {APACHE_CONFIG_ROOT}, {CC_HOST} and
                    {JPC_HOST} with actual values):</span>
                <div class="itemgroup info">
                    <pre class="pre codeblock"><code>&lt;IfModule !mod_ssl.c&gt;
LoadModule ssl_module modules/mod_ssl.so
&lt;/IfModule&gt;
Listen 443 https
SSLPassPhraseDialog builtin
SSLSessionCache shmcb:/run/sslcache(512000)
SSLSessionCacheTimeout 300
SSLRandomSeed startup file:/dev/urandom 256
SSLRandomSeed connect builtin
SSLCryptoDevice builtin
SSLProtocol all -SSLv3
SSLProxyProtocol all -SSLv3
SSLHonorCipherOrder On
SSLCipherSuite ALL:!ADH:!EXP:!LOW:!RC2:!3DES:!SEED:!RC4:+HIGH:+MEDIUM
&lt;IfModule !mod_auth_cas.c&gt;
LoadModule auth_cas_module {MOD_AUTH_CAS_SO}
&lt;/IfModule&gt;
CASVersion 2
CASCookiePath {APACHE_CONFIG_ROOT}/cas/
CASLoginURL https://{JPC_HOST}/401
CASValidateURL https://{CC_HOST}/cas/serviceValidate
CASValidateServer Off
PerlRequire {APACHE_CONFIG_ROOT}/perl/startup.pl
&lt;VirtualHost *:443&gt;
CustomLog logs/jpc.log combined
KeepAlive On
Servername {JPC_HOST}
SSLEngine On
SSLProxyEngine On
ProxyRequests Off
SSLCertificateFile {SSL_PATH}/server.crt
SSLCertificateKeyFile {SSL_PATH}/server.key
&lt;Location /dpc/PDPConnector/go&gt;
Authtype CAS
require valid-user
ProxyPass "http://127.0.0.1:58080/dpc/authorization/pdp"
&lt;/Location&gt;
&lt;Location /dpc/authorization/pdp&gt;
Authtype CAS
require valid-user
ProxyPass "http://127.0.0.1:58080/dpc/authorization/pdp"
&lt;/Location&gt;
&lt;Location /cas/&gt;
ProxyPass "https://{CC_HOST}}/cas/"
ProxyPassReverse "https://{CC_HOST}/cas/"
&lt;/Location&gt;
&lt;Location /401&gt;
SetHandler perl-script
PerlResponseHandler JPC::Unauthorized
&lt;/Location&gt;
&lt;/VirtualHost&gt;</code></pre>
                </div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Start the server using the following command:</span>
                <div class="itemgroup info"><kbd class="ph userinput">sudo service httpd24-httpd start</kbd></div>
            </li><li class="li step stepexpand">
                <span class="ph cmd">Optional: To configure the server to start when the system starts, use this
                    command:</span>
                <div class="itemgroup info"><kbd class="ph userinput">sudo systemctl enable httpd24-httpd</kbd></div>
            </li></ol>
    </div>
</article></main></div>
                        
                        
                                                
                    </div>
                    
                </div>
            </div>
        </div> 
        
        <div class="wh_navigation_links">
            <div class=" wh_navigation_links "><span id="topic_navigation_links" class="navheader">
  </span></div>
        </div>
        
        <div class="wh_related_links">
            
        </div>


        <footer class="navbar navbar-default wh_footer">
  <div class=" footer-container text-center ">
    CONFIDENTIALITY NOTICE <div>THIS DOCUMENT IS CONFIDENTIAL AND PROPRIETARY TO NEXTLABS, INC. AND MAY NOT BE REPRODUCED, PUBLISHED OR DISCLOSED TO OTHERS WITHOUT COMPANY AUTHORIZATION.</div> <div> Copyright (C) 2019 NextLabs, Inc. All rights reserved.</div>
  </div>
</footer>

        
        <div id="go2top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </div>
        
        <!-- The modal container for images -->
        <div id="modal_img_large" class="modal">
            <span class="close glyphicon glyphicon-remove"></span>
            <!-- Modal Content (The Image) -->
            <img class="modal-content" id="modal-img" />
            <!-- Modal Caption (Image Text) -->
            <div id="caption"></div>
        </div>
        
        <script src="./oxygen-webhelp/lib/bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
        
    </body>
</html>